<!DOCTYPE html><html>  <head>    <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">    <title>API References - events</title>    <link href="../../css/main.css" rel="stylesheet" type="text/css">    <script type="text/javascript" src="/jsc/app.js"></script>  </head>  <body>    <article class="content">      <h1 class="classTitle">ydn.db.events</h1>      <p>Module <code>ydn.db.events</code> has three event classes. The event        object are closely follow <a href="http://www.w3.org/TR/DOM-Level-2-Events/events.html">DOM
          Event model</a>. The events are dispatched by a <a href="/api-reference/ydn-db/storage.html">storage
          instance</a> and listen by <a href="/api-reference/ydn-db/storage.html#addEventListener">addEventListener</a>.<br>      </p>      <div class="sectionTitle"> Classes </div>      <details> <summary> <a name="RecordEvent"></a>          <div class="fixedFont"> <b>ydn.db.events.RecordEvent</b> </div>          <div class="description"> <code>RecordEvent</code> are dispatched            when changes in a record. </div>        </summary>        <div class="details">          <dl class="detailList">            <dt class="heading">Fields:</dt>            <dt><span class="light fixedFont">{string}</span> <b>name</b></dt>            <dd>Event name. The value is 'RecordEvent'. </dd>            <dt><span class="light fixedFont">{string}</span> <b>type</b></dt>            <dd>Event type. The value could be one of 'created', 'deleted' or              'updated'. </dd>          </dl>        </div>        <div class="details">          <dl class="detailList">            <dt class="heading">Methods:</dt>            <dt><span class="light fixedFont">{string}</span><b> getStoreName</b>()
              </dt> <dd> Return effected store name. </dd>            <dt><span class="light fixedFont">{*}</span><b> getKey</b>() </dt>            <dd> Return effected key. </dd>            <dt><span class="light fixedFont">{*}</span><b> getValue</b>() </dt>            <dd> Return record value used. </dd>          </dl>        </div>      </details>      <hr> <details> <summary><a name="StorageEvent"></a>          <div class="fixedFont"> <b>ydn.db.events.StorageEvent</b> </div>          <div class="description"> <code>StorageEvent</code> are dispatched            for changes in database connection. </div>        </summary>        <div class="details">          <dl class="detailList">            <dt class="heading">Fields:</dt>            <dt><span class="light fixedFont">{string}</span> <b>name</b></dt>            <dd>Event name. The value is 'StorageEvent'. </dd>            <dt><span class="light fixedFont">{string}</span> <b>type</b></dt>            <dd>Event type. </dd>          </dl>        </div>        <div class="details">          <dl class="detailList">            <dt class="heading">Methods:</dt>            <dt><span class="light fixedFont optional">{number}</span> <b>getVersion()</b></dt>            <dd> Get database schema version. This is <code>NaN</code> if not              connected. </dd>            <dt><span class="light fixedFont optional">{number}</span> <b>getOldVersion()</b></dt>            <dd> Get previous database schema version if upgraded. </dd>          </dl>        </div>      </details>      <hr> <details> <summary><a name="StorageErrorEvent"></a>          <div class="fixedFont"> <b>ydn.db.events.StorageErrorEvent</b> </div>          <div class="description"> <code>StorageEvent</code> are dispatched            when fatal error occour. </div>        </summary>        <div class="details">          <dl class="detailList">            <dt class="heading">Fields:</dt>            <dt><span class="light fixedFont">{string}</span> <b>name</b></dt>            <dd>Event name. The value is 'StorageErrorEvent'. </dd>            <dt><span class="light fixedFont">{string}</span> <b>type</b></dt>            <dd>Event type. </dd>          </dl>        </div>        <div class="details">          <dl class="detailList">            <dt class="heading">Methods:</dt>            <dt><span class="light fixedFont optional">{?Error}</span> <b>getError()</b></dt>            <dd> Get error. <code>null</code> if no error occur.</dd>          </dl>        </div>      </details>      <hr> <details> <summary><a name="StoreEvent"></a>          <div class="fixedFont"> <b>ydn.db.events.StoreEvent</b> </div>          <div class="description"> <code>StoreEvent</code> are dispatched when            changes in a store. </div>        </summary>        <div class="details">          <dl class="detailList">            <dt class="heading">Fields:</dt>            <dt><span class="light fixedFont">{string}</span> <b>name</b></dt>            <dd>Event name. The value is 'StoreEvent'. </dd>            <dt><span class="light fixedFont">{string}</span> <b>type</b></dt>            <dd>Event type. The value could be one of 'created', 'deleted' or              'updated'. </dd>          </dl>        </div>        <div class="details">          <dl class="detailList">            <dt class="heading">Methods:</dt>            <dt><span class="light fixedFont">{string}</span><b> getStoreName</b>()
              </dt> <dd> Return effected store name. </dd>            <dt><span class="light fixedFont">{!Array}</span><b> getKeys</b>() </dt>            <dd> Return effected keys. </dd>            <dt><span class="light fixedFont">{!Array}</span><b> getValues</b>()            </dt>            <dd> Return record values used. </dd>          </dl>        </div>      </details> <br>    </article>    <script type="text/javascript">initDom()</script>  </body></html>