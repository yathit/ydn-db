
<!DOCTYPE html>
<html lang="en" class="no-js no-touch">
  <head>

    <link type="text/css" rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro">
    
<meta charset="utf-8" />


<title>
  
    Basic concept
  
</title>





<meta name="author" content="https://plus.google.com/+KyawTun-Yathit/posts" />



<meta name="description" content="Full text search module for YDN-DB" />


<link rel="icon" href="/favicon.ico" />

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1" />

<meta name="twitter:card" content="summary">
<meta property="twitter:account_id" content="@yathit" />
<meta property="twitter:site" content="@yathit" />
<meta property="twitter:description" content="Full text search module for YDN-DB" />
<meta property="twitter:creator" content="@yathit" />
<meta property="twitter:image:src" content="/ydn-db/imgs/logo.png" />


<link rel="author" href="https://plus.google.com/+KyawTun-Yathit/posts">
<link rel="publisher" href="https://plus.google.com/+KyawTun-Yathit">

<meta itemprop="name" content="
  
    Basic concept
  
">
<link itemprop="image" href="/imgs/logo.png">
<meta itemprop="description" content="Full text search module for YDN-DB">

<meta property="og:site_name" content="Yathit" />
<meta property="og:title" content="
  
    Basic concept
  
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/ydn-db/" />
<meta property="og:image" content="/ydn-db/imgs/logo.png" />

<link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/iccdnijlhdogaccaiafdpjmbakdcdakk">
<link rel="chrome-webstore-item" href="https://chrome.google.com/webstore/detail/ldikiokclnbceabnlbkabmcacpiednop">

<link rel="stylesheet" media="screen" href="/css/styles.min.css" />

<script src="/js/analytics.js"></script>

  </head>

  <body class="page-doc page--article article--ydndb-full-text theme--ydndb-full-text" itemscope itemtype="http://schema.org/TechArticle">
    

    <header class="main-header">

	























<nav class="main-nav">

  <header class="main-nav__header">
    <span class="main-nav__current-label">Basic concept</span>
  </header>

  <ul class="main-nav__list clear">
  
    
    
    <li class="main-nav__item main-nav__item--<strong>ydn-db</strong>
                main-nav__item--home 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="/ydn-db/index.html" title="Go to <strong>YDN-DB</strong>">

        <strong>YDN-DB</strong>

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    <li class="main-nav__item main-nav__item--download
               
               
                 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="/ydn-db/downloads.html" title="Go to Download">

        Download

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    <li class="main-nav__item main-nav__item--documentation
               
               
                 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="/ydn-db/doc/index.html" title="Go to Documentation">

        Documentation

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    <li class="main-nav__item main-nav__item--api
               
               
                 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="/ydn-db/api/ydn/db/storage.html" title="Go to API">

        API

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    <li class="main-nav__item main-nav__item--examples
               
               
                 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="//dev.yathit.com/ydn-db/doc/example/index.html" title="Go to Examples">

        Examples

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    <li class="main-nav__item main-nav__item--github
               
               
                 
               
               
               ">
      <a class="main-nav__link main-nav__link--parent" href="https://github.com/yathit/ydn-db" title="Go to GitHub">

        GitHub

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  

  <li class="main-nav__item right">
    <a class="main-nav__link main-nav__link--parent" id="user-login">...</a>
  </li>
  <li class="main-nav__item right">
    <span class="main-nav__link main-nav__link--parent" id="user-name" style="display: none;"></span>
  </li>

  </ul>
  <button class="main-nav__btn btn--toggle-nav">
    <i class="icon icon-menu"></i>
  </button>

</nav>


</header>


    <div class="article-container" itemprop="text">

       <div class="ydn-breadcrumb-before"></div>
        <div class="container">
           <div class="content">
             <div id="ydn-breadcrumb" name="ydndb-doc"></div>
           </div>
        </div>
        <div class="ydn-breadcrumb-after"></div>

      <div class="editorial-header">
        <div class="container">
          <div class="content">

            <h1 class="editorial-header__title"></h1>
            <h2 class="editorial-header__subtitle" itemprop="name">Basic concept</h2>

            <p class="editorial-header__excerpt" itemprop="headline">Explain mechanics of full-text search and introduce terms and concepts.</p>

          </div>
        </div>
      </div>


      <div class="container"><div class="content ">

    <h2 id="mechanics-of-full-text-search">Mechanics of full-text search</h2>

    <p>YDN-DB uses an inverted index structure to store full-text index data. The inverted index structure is built by breaking searchable content into word-length <em>tokens</em> (a process known as <em>tokenizing</em>) and storing each word with relevant metadata in the index. An inverted index for a document containing the phrase “My name is Peter.” would be tokenized into four words: ‘My’, ‘name’, ‘is’ and ‘Peter’. </p>

    <p>YDN-DB full-text search module use <a href="https://github.com/reyesr">Rodrigo Reyes</a>’s excellent <a href="https://github.com/reyesr/fullproof">fullproof</a> library for tokenization. It is a unicode-base tokenization supporting full language spectrum. </p>

    <p>The key fields in the inverted index include the word being indexed, a reference back to the source document where the word is found, and an occurrence indicator, which gives a relative position for each word. Full-text search indexing eliminates commonly used stopwords such as the, and, and of from the index, making it substantially smaller. With pre-defined stopwords removed, the inverted index for the previously given sample phrase becomes only two tokens ‘name’ and ‘Peter’. Currently YDN-DB only have stop words for English language, which is based on <a href="http://www2.unine.ch/">University of Neuchatel</a>’s <a href="http://members.unine.ch/jacques.savoy/clef/">J. Savoy’s compilation</a>.</p>

    <p>Whenever you perform a full-text search in YDN-DB, the full-text query engine tokenizes your input string and consults the inverted index to locate relevant documents. </p>

    <h3 id="indexing-process">Indexing process</h3>

    <p>When records of an full-text search object store is created or modified, indexing process initiated after storing the records. The database request is return only when indexing is finished.</p>

    <p>The indexing process consults stoplists to eliminate stopwords from the tokenized content, normalizes the words, and adds the indexable words to inverted index fragments. The indexing process, in general, is CPU and I/O intensive. Despite the intensity of the process, the indexing process doesn’t block queries from occurring. </p>

  </div>
</div>

<div class="highlight-module  highlight-module--right   highlight-module--remember   highlight-module--inline ">
  <div class="highlight-module__container  icon-exclamation ">
    <div class="highlight-module__content   g-wide--pull-1 highlight-module__inline ">
      <p class="highlight-module__title"> Tip</p>

      
        <p class="highlight-module__text"> Use separate transaction thread for populating full-text search object store, so that indexing is not interfered with UI request. </p>
      

      

    </div>
  </div>
</div>

<div class="container">
  <div class="content">

    <h3 id="query-process">Query process</h3>

    <p>The full-text query process uses the same word breakers that the indexer uses in the indexing process; however, it uses several additional components to fulfill query requests. The query processor accepts a full-text query predicate, which it tokenizes using word breakers. During the tokenization process, the query processor creates generational forms, or alternate forms of words using <em>stemmers</em>.</p>

    <p>For a given word, stemmers return language-based alternative word forms, to generate inflectional word forms. These inflectional word forms include verb conjugations and plural noun forms for search terms that require them. Stemmers help to maximize precision and recall, which we’ll discuss later in this chapter. For instance, the English verb eat is stemmed to return the verb forms eating, eaten, ate, and eats in addition to the root form eat.</p>

    <p>YDN-DB use stemmers from <a href="https://github.com/NaturalNode/natural">Natural library</a>. It supports several language, but currently YDN-DB only has English portion.</p>

    <p>After creating generational forms of words, the query processor provides key for inverted index to retrieve matched records. The full-text query processor consults the full-text index to locate docu- ments that qualify based on the search criteria, ranks the results, and return back the relevant result to the user.</p>

    <p>The full-text query processor is tightly integrated with YDN-DB core using private API and database request hook.</p>

    <h3 id="search-quality">Search quality</h3>

    <p>The quality of search results can be measured using two primary metrics: <em>precision</em> and <em>recall</em>. Precision is the number of hits returned that are relevant versus the number of hits that are irrelevant. Precision can be defined mathematically using the formula as p = n / d, where p represents the precision, n is the number of relevant retrieved documents, and d is the total number of retrieved documents.</p>

    <p>Recall is the number of hits that are returned that are relevant versus the number of relevant documents that aren’t returned. That is, it’s a measure of how much relevant information your searches are missing. Precision and recall are normally used in tandem to measure search quality. </p>

    <p>YDN-DB uses <a href="http://en.wikipedia.org/wiki/S%C3%B8rensen%E2%80%93Dice_coefficient">Dice co-efficient</a> for measuring word similarity. <a href="http://en.wikipedia.org/wiki/Tf%E2%80%93idf">Term frequency–inverse document frequency</a> is used to measure how important a word is to the document collection. Finally result is scored with positional weighted measure.  </p>

  </div></div>


      <div class="container clear-both">
        <div class="content">

          <div class="container-medium">
  <nav class="article-nav">
  
  
    <a class="article-nav-link article-nav-link--next" title="Next article" href="/ydn-db/doc/full-text/usage.html" style="float: right;">
      Next 'Usage'
    </a>
  
  </nav>
</div>


          <br /><div class="g-comments" data-href=""></div>
        </div>
      </div>



      
        





      
      


<script src="/jsc/ydn.db-dev.js"></script>

    </div> <!-- /.article-container -->
    <div class="container clear">
	<div id="gc-content-license" class="gc-content-license g-wide--3 g-wide--last" >
		
		<div class="container clear">
	<div class="g-wide--3 g-wide--last">
    
		<h4>Authors</h4>
		
		
    <a href="/resources/contributors/index.html#kyawtun">
      Kyaw Tun</a>
		
    
	</div>
</div>

	</div>
</div>

    <footer class="main-footer">
  <div class="main-footer__container container clear">
    <div class="main-footer__list-group">
      <ul class="main-footer__list main-footer__list--primary">
      

        

        
        <li class="sitemap__item sitemap__item--<strong>ydn-db</strong>  sitemap__item--home  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/ydn-db/index.html" title="Go to <strong>YDN-DB</strong>">
            <strong>YDN-DB</strong>
          </a>
        </li>
        
      

        

        
        <li class="sitemap__item sitemap__item--download  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/ydn-db/downloads.html" title="Go to Download">
            Download
          </a>
        </li>
        
      

        

        
        <li class="sitemap__item sitemap__item--documentation  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/ydn-db/doc/index.html" title="Go to Documentation">
            Documentation
          </a>
        </li>
        
      

        

        
        <li class="sitemap__item sitemap__item--api  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/ydn-db/api/ydn/db/storage.html" title="Go to API">
            API
          </a>
        </li>
        
      

        

        
        <li class="sitemap__item sitemap__item--examples  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="//dev.yathit.com/ydn-db/doc/example/index.html" title="Go to Examples">
            Examples
          </a>
        </li>
        
      

        

        
        <li class="sitemap__item sitemap__item--github  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="https://github.com/yathit/ydn-db" title="Go to GitHub">
            GitHub
          </a>
        </li>
        
      
      </ul>

      <div class="main-footer__google-section">
        <h3 class="main-footer__title"><a href="/ydn-db/">
          <img id="developers-logo-footer" src="/imgs/yathit-dev-network.svg" alt="Yathit Developer Network logo">
        </a></h3>
        <ul class="main-footer__list main-footer__list--secondary google-list">
          <li><a href="https://www.yathit.com/">Yathit</a></li>
          <li><a href="https://www.yathit.com/terms.html">Terms of Service</a></li>
          <li><a href="https://www.yathit.com/privacy.html">Privacy Policy</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>

    <script src="/jsc/prettify.js"></script>

    
<script src="/js/script.js"></script>
<script src="/jsc/website-app.js"></script>
<script src="https://apis.google.com/js/client.js?onload=handleClientLoad"></script>





  </body>
</html>

